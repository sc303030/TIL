# 최소 공통 조상(Lowest Common Ancestor, LCA) 

### 최소 공통 조상 (Lowest Common Ancestor) : 기초 문제

- N(2 <= N <= 50,000)개의 정점으로 이루어진 트리가 주어진다. 트리의 각 정점은 1번부터 N번까지 번호가 매겨져 있으며, 루트는 1번이다. 두 노드의 쌍 M(1<= M <= 10,000)개가 주어졌을 때, 두 노드의 가장 가까운 공통 조상이 몇 번인지  출력한다.

### 최소 공통 조상 (Lowest Common Ancestor) 

- **최소 공통 조상 (Lowest Common Ancestor) ** 문제는 <u>두 노드의 공통된 조상 중에서 가장 가까운 조상을 찾는 문제</u> 이다.

![lca01](./img/lca01.jpg)

![lca02](./img/lca02.jpg)

![lca03](./img/lca03.jpg)

### 기본적인 최소 공통 조상 (LCA) 알고리즘

- **최소 공통 조상** 찾기 알고리즘은 다음과 같다.
  1. 모든 노드에 대한 깊이(depth)를 계산한다.
  2. 최소 공통 조상을 찾을 두 노드를 확인한다.
     1. 먼저 두 노드의 깊이(depth)가 동일하도록 거슬러 올라간ㄷ.
     2. 이후에 부모가 같아질 때까지 반복적으로 두 노드의 부모 방향으로 거슬러 올라간다.
  3. 모든 LCA(a, b)연산에 대하여 2번의 과정을 반복한다.

### 기본적인 최소 공통 조상 (LCA) 알고리즘 : 연산 과정 살펴보기

- DFS를 이용해 모든 노드에 대하여 깊이(depth)를 계산할 수 있다.

![lca04](./img/lca04.jpg)

- **LCA(8번 노드, 15번 노드)**

![lca05](./img/lca05.jpg)

- - 먼저 두 노드의 깊이를 맞춘다.

![lca06](./img/lca06.jpg)

![lca07](./img/lca07.jpg)