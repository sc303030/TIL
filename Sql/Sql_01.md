# Sql_01

### 1.1.1 데이터 베이스

- 한 조직의 여러 응용 시스템에서 공용할 수 있도록 중복되는 데이터를 최소화하여 통합/ 저장한 운영 **데이터 집합**을 의미
- 데이터베이스에 저장된 데이터
  - 공용 데이터 (Shared Data)
  - 통합 데이터 (Integrated Data)
  - 저장 데이터 (Stored Data)
  - 운영 데이터 (Operational Data)

### 1.1.2 DBMS (DatabaseManagement System) 개념

- 데이터 베이스에서 데이터를 저장/검색/수정하는 **데이터베이스 전용 관리 프로그램**
- 대표적인 벤터/제품으로 Orcle, Microsoft SQL Server, IBM DB2, MySQL 등이 있다.

### 1.1.3 DBMS 사용 이점

| 주요 이점          | 내용                                                         |
| ------------------ | ------------------------------------------------------------ |
| 데이터 독립화      | 데이터와 응용 프로그램을 분리시킴으로써 상호 영향 정도를 줄일 수 있다. |
| 데이터 무결성 보장 | 중복되는 데이터를 최소화 시키면 데이터 무결성이 손상될 가능성이 줄어든다. |
| 데이터 중복 최소화 | 중복되는 데이터를 최소화 시키면 필요한 저장공간의 낭비를 줄일 수 있다. |
| 데이터 보안 향상   | 응용 프로그램은 DBMS를 통해 DBMS가 허용하는 데이터에만 접근 할 수 있다. |
|                    | 권한에 맞게 데이터 접근을 제한하거나 데이터를 암호화 시켜 저장할 수 있다. |
| 관리 편의성 향상   | 다양한 방법으로 데이터를 백업할 수 있다.                     |
|                    | 장애 발생 시 데이터를 복구할 수 있다.                        |

### 1.2.1 데이터베이스 변천 과정

| 년도     | 내용                 |
| -------- | -------------------- |
| 1950년대 | 파일                 |
| 1960년대 | 계층형 DB (HDB)      |
| 1970년대 | 네트워크형 DB (NDB)  |
| 1980년대 | 관계형 DB (RDB)      |
| 1990년대 | 객체지향형 DB (OODB) |
| 2000년대 | 객체관계형 DB (ORDB) |

### 1.2.2 계층형 데이터 베이스

- 트리 형태의 계층적 구조를 가진 데이터베이스 유형
- 최상위 계층의 데이터부터 검색하는 구조

### 1.2.3 네트워크형 데이터베이스

- 하위 데이터끼리의 관계까지 정의할 수 있는 구조를 가진 데이터베이스 유형
- 설계/구현이 너무 복잡하고 어려워 일반화 되지 않음

### 1.2.4 관계형 데이터베이스

- 모든 데이터를 2차원 테이블 형태로 표현하고, 테이블 사이의 비즈니스적 관계를 도출하는 구조를 가진 데이터베이스 유형
- 데이터의 중복을 최소화 할 수 있으며, 업무 변화에 대한 적응력이 우수

### 1.3.1 관계형 데이터베이스와 ERD

- 비즈니스 수행을 위해 다루어야 할 데이터를 파악하고 그 관계를 표현한 것
- 구성요소 : Entity,Attribute,Relationship

### 1.3.2. ERD의 물리적 변환

- Entity는 테이블과 대응되고 Attribute는 컬럼으로 대응

### 1.3.3 주요 용어

1. 행 (row) : 가로 행렬
2. 컬럼 : 세로 행렬
3. 기본키 (Primary Key) : Identifier

4. 외부키 (Foreign Key) : Relationship\
5. NULL
6. 컬럼 값 : 셀 하나의 값

### 1.3.3 주요 용어 

#### NULL

- 컬럼 값이 없는 경우 (컬럼이 비어 있는 경우)
  - 숫자 0 이나 공백과 다르다.
  - 기본적으로 모든 데이터 타입(CHAR, NUMBER, DATE ...) 에서 사용 가능

#### 기본키

- 각 행을 식별할 수 있는 컬럼 또는 컬럼 조합
  - Composite key 가능 -> 하나 이상의 컬럼 조합도 가능
  - 생략되거나 중복되지 않아야 함 -> Composite key 경우 조합 결과과 중복되지 않아야 함
  - 테이블 당 1개만 존재

#### 외부키

- 다른 테이블의 기본키를 참조하는 컬럼(또는 컬럼 조합)
- 테이블의 연관 관계를 표현
  - 참조하고 있는 기본키 컬럼 값과 일치하거나 또는 NULL 이어야 함
  - 자기 테이블의 기본키(또는 그 일부)를 참조할 수 있음
  - Composite key 가능 -> Composite key 형태의 기본키 참조 가능
  - 참조하고 있는 기본키 범위에서 변경이 가능
  - 존재하지 않아도 무방하며 여러 개가 존재할 수 있음

### 1.3.4 SQL (StructuredQueryLanguage)

- 관계형 데이터베이스에서 데이터를 조회하거나 조작하기 위해 사용하는 표준 검색 언어
- 원하는 데이터를 찾는 방법(절차)이 아닌 조건을 기술하는 방식
  - 어떤 방법으로 데이터를 찾을 것인지는 DBMS가 결정

### 1.4.1 주요 데이터타입

- 해당 컬럼에 포함되는 데이터 종류에 따라 결정

**주요 데이터 타입** (오라클 DBMS기준으로표시 )

| 분류      | 용도        | 명령어 예                        |
| --------- | ----------- | -------------------------------- |
| SELECT    | 데이터 검색 | SELECT                           |
| CHARACTER | CHAR        | 고정길이 문자 (최대 2000 바이트) |
|           | VARCHAR     | 가변길이 문자 (최대 4000 바이트) |
|           | LONG        | 가변 문자 (최대 2 기가바이트)    |
| DATE      |             | 날짜                             |
| LOB       | CLOB        | 가변 문자 (최대 4 기가바이트)    |
|           | BLOB        | BinaryData                       |

### 1.4.2 주요 데이터 타입 

#### NUMBER

**NUMBER [ ( p [,s] ) ]**

- P : 표현할 수 있는 전체 숫자 자리수 (1 ~ 38)
- S : 소수점 이하 자릿수 (-84 ~ 127)

**사용 예**

| 실제 값  | 데이터 타입     | 저장되는 값 |
| -------- | --------------- | ----------- |
| 56123.89 | NUMBER ( 7, 2)  | 56123.89    |
|          | NUMBER ( 7 )    | 56124       |
|          | NUMBER          | 56123.89    |
|          | NUMBER ( 7, 1)  | 56123.9     |
|          | NUMBER ( 5, -2) | 56100       |

#### CHAR

**CHAR ( size [ Byte | char] )**

- size : 포함될 문자(열) 크기
  - 바이트 단위/문자 개수 단위로 표현 가능
  - 최대 2000 바이트, 기본 바이트 단위, 기본값 1 바이트
- 지정한 크기 보다 작은 문자(열)이 입력 
  - 남은 부분은 공백으로 채워짐 (고정길이)
- 데이터는 ''(singlequotationmarks) 를 사용하며 대/소문자는 구분됨

**사용 예** (실습 환경 : 한글 1문자 = 2바이트)

| 실제 값 | 데이터 타입 | 저장되는 값          |
| ------- | ----------- | -------------------- |
| KINCHI  | CHAR (6)    | KINCHI               |
|         | CHAR (6)    | KINCHI •• (공백 2칸) |
|         | CHAR (3)    | 입력 불가            |
| 김치    | CHAR (6)    | 김치 •• (공백 2칸)   |
|         | CHAR (8)    | 김치 •••• (공백 4칸) |
|         | CHAR (3)    | 입력 불가            |

