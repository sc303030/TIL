# R_02

## 행렬(matrix)

> 단일 유형의 값을 담는다. 

### matrix(), rbind(), cbind()

### apply(data, margin, function)

> 벡터나 행렬(matrix)을 받아서 행이냐 열이냐를 나타냄

```R
x <- c(1,2,3,4,5,6,7,8,9)
mat <- matrix(x)
```

```R
> class(mat)
[1] "matrix" "array" 
```

```R
> mat
      [,1]
 [1,]    1
 [2,]    2
 [3,]    3
 [4,]    4
 [5,]    5
 [6,]    6
 [7,]    7
 [8,]    8
 [9,]    9
```

### matrix()

```R
> matrix(x, nrow = 3) 
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9
```

- 행을 3개 만든다. 열을 기준

```r
> matrix(x, ncol = 3)
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9
```

- 열을 3개 만든다. 

```R
> matrix(x, nrow = 3, ncol = 3, byrow=T)
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
```

- `byrow=T` 를 주면 행을 기준으로 만들어진다.

```R
> matrix(0, nrow = 2, ncol = 3)
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0
```

- 행과 열에 알아서 0이 들어간다.

```r
matD <- diag(0,3)
```

```r
> matD
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0
[3,]    0    0    0
```

- 정방향 행렬로 3x3이 만들어진다.

```R
> class(matD)
[1] "matrix" "array" 
```

```r
x <- matrix(c(1,2,3,4,5,6) , 2,3)
```

```r
> x
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
```

### 전치행렬_t()

```r
> t(x)
     [,1] [,2]
[1,]    1    2
[2,]    3    4
[3,]    5    6
```

```r
x <- matrix(x, 3, 3)
```

```r
> x
     [,1] [,2] [,3]
[1,]    1    4    1
[2,]    2    5    2
[3,]    3    6    3
```

- 숫자가 부족하면 반복된다.

```r
> row(x) 
     [,1] [,2] [,3]
[1,]    1    1    1
[2,]    2    2    2
[3,]    3    3    
```

- 행의 인덱스로 변경된다.

```r
> col(x) 
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    1    2    3
[3,]    1    2    3
```

- 열의 인덱스로 변경된다.

```r
tmp <- x[c(1,2),c(2)]
```

```R
> tmp
[1] 4 5
```

- 1~2행의 값을 가져오고, 2열만 가져온다. \

```r
tmp <- x[c(1,2),c(1:3)]
> tmp
     [,1] [,2] [,3]
[1,]    1    4    1
[2,]    2    5    2
```

- 1~2행을 가져오고 1~3열까지 가져온다.

```r
tmp <- x[-3,c(1:3)]
> tmp
     [,1] [,2] [,3]
[1,]    1    4    1
[2,]    2    5    2
```

- 3행을 제외하고 1~3열만 가져온다.

```R
tmp <- x[-3,]
> tmp
     [,1] [,2] [,3]
[1,]    1    4    1
[2,]    2    5    2
```

- 3행을 제외하고 모든열을 가져온다.

```r
tmp <- x[c(1,2),]
> tmp
     [,1] [,2] [,3]
[1,]    1    4    1
[2,]    2    5    2
```

- 1~2행과 모든 열을 가져온다.

```r
tmp <- x[-1,c(1,3)]
> tmp
     [,1] [,2]
[1,]    2    2
[2,]    3    3
```

- 1행을 제외하고 1열과 3열만 가져온다.

```r
tmp <- x[-1,c(T,F,T)]
> tmp
     [,1] [,2]
[1,]    2    2
[2,]    3    3
```

- 1행을 제외하고 `T` 인 열만 가져오다.

```r
tmp <- x[,c(F,T,F)] 
> tmp
[1] 4 5 6
```

- 모든행을 가져오고 `T` 인 열만 가져온다.

```r
tmp <- x[,-c(1,3)]
> tmp
[1] 4 5 6
```

- 모든 행을 가져오고 1열과 3열을 제외하고 2열만 가져온다.

```r
tmp <- x[,2]
> tmp
[1] 4 5 6
```

- 모든 행을 가져오고 2열만 가져온다.

```r
x1 <- c(1,2,3)
x2 <- c(4,5,6)
tmpMatrix <- rbind(x1, x2)
> tmpMatrix
   [,1] [,2] [,3]
x1    1    2    3
x2    4    5    6
> class(tmpMatrix)
[1] "matrix" "array" 
```

- 행으로 합친다.

```r
tmpMatrix <- cbind(x1, x2) 
> tmpMatrix
     x1 x2
[1,]  1  4
[2,]  2  5
[3,]  3  6
```

- 열을 기준으로 합친다.

```r
tmpMatrix <- rbind(1:3, c(4,5,6), 7:9)
> tmpMatrix
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
```

- 값을 행마다 지정해 주었다.

### dimnames()

> matrix()함수에 dimnames 옵션을 활용하면 행이름, 열이름을 지정할 수 있고 이를 활용하여 인덱싱이 가능하다.

```r
nameMatrix <- matrix(c(1,2,3,4,5,6,7,8,9),
                     nrow = 3,
                     dimnames = list(c('idx1','idx2','idx3'),
                                     c('feature1','feature2','feature3')))
```

```r
> nameMatrix
     feature1 feature2 feature3
idx1        1        4        7
idx2        2        5        8
idx3        3        6        9
```

- 행과 열에 이름을 주었다.

```r
> nameMatrix['idx2','feature1']
[1] 2
```

- 행과 열 이름으로 인덱싱이 가능하다.

```R
> nameMatrix['idx3','feature3']
[1] 9
```

```r
> nameMatrix['idx1','feature3']
[1] 7
```

```r
> nameMatrix[c('idx1','idx3'),c('feature1','feature3')]
     feature1 feature3
idx1        1        7
idx3        3        9
```

```r
> nameMatrix['idx1','feature3']
[1] 7
```

```r
> nameMatrix['idx1',]
feature1 feature2 feature3 
       1        4        7 
```

```r
> nameMatrix[c('idx1','idx2'),'feature3']
idx1 idx2 
   7    8 
```

### 연산이 가능하다.

```r
> nameMatrix * 2
     feature1 feature2 feature3
idx1        2        8       14
idx2        4       10       16
idx3        6       12       18
```

```r
> nameMatrix / 2
     feature1 feature2 feature3
idx1      0.5      2.0      3.5
idx2      1.0      2.5      4.0
idx3      1.5      3.0      4.5
```

```r
> nameMatrix + 2
     feature1 feature2 feature3
idx1        3        6        9
idx2        4        7       10
idx3        5        8       11
```

```r
> nameMatrix - 2
     feature1 feature2 feature3
idx1       -1        2        5
idx2        0        3        6
idx3        1        4        7
```

```r
> nameMatrix ^ 2
     feature1 feature2 feature3
idx1        1       16       49
idx2        4       25       64
idx3        9       36       81
```

### apply()

```r
> x <- matrix(1:4,2,2)
     [,1] [,2]
[1,]    1    3
[2,]    2    4
```

- 2행 2열을 만들었다.