# 트리2

### 이진 탐색 트리

- 이진 트리를 탐색용 자료구조로 사용하기 위해 원소 크기에 따라 노드 위치를 정의한 것

### 이진 탐색 트리의 참색 연산

- 루트에서 시작
- 탐색할 키값 x를 노드의 키값과 비교
    - 키값 ≤ 루트 노드의 키값
        - 원하는 요소를찾았으므로 탐색연산 성공
    - 키값 < 루트 노드의 키값
        - 루트 노드의 왼쪽 서브트리에 대해서 탐색연산 수행
    - 키값 > 루트 노드의 키값
        - 루트 노드의 오른쪽 서브트리에 대해서 탐색연산 수행

### 이진 탐색 트리의 삽입 연산

1. 먼저 탬색 연산을 수행
    - 삽입할 원소와 같은 원소가 트르에 있으면 삽입할 수 없으므로, 같은 원소가 트리에 있는지 탐색하여 확인
    - 탐색에서 탐색 실패가 결졍되는 위치가 삽입 위치가 됨

### 이진 탐색 트리의 삭제 연산

1. 먼저 탐색 연산을 수행
    1. 삭제할 노드의 위치를 앞아야 하므로 트리를 탐색
2. 탐색하여 찾은 노드를 삭제
    1. 노드의 삭제 후에도 이진 탐색 트리를 유지해야 하므로 삭재 노드의 경우에 대한 후속 처리가 필요함
    2. 삭제할 노드의 경우
        1. 삭제할 노드가 단말 노드인 경우(차수=0)
        2. 삭제할 노드가 자식 노드를 한 개 가진 경우(차수=1)
        3. 삭제할 노드가 자식 노드를 두 개 가진 경우(차수=2)
3. 삭제할 노드가 자식 노드를 한 개 가진 경우(차수=1)의 삭제 연산
    1. 노드를 삭제하면, 자식 노드는 트리에서 연결이 끊어져서 고아가 됨
    2. 후속 처리
        1. 삭제한 부모노드의 자리를 자식노드에게 물려줌
4. 삭제할 노드가 자식 노드를 두 개 가진 경우(차수=2)의 삭제 연산
    1. 노드를 삭제하면, 자식 노드들은 트리에서 연결이 끊어져서 고아가 됨
    2. 후속 처리
        1. 삭제한 노드의 자리를 자손 노드들 중에서 선택한 후계자에게 물려줌
    3. 후계자 선택 방법
        1. 왼쪽 서브트리애서 가장 큰 자손 노드 선택
            1. 왼쪽 서브트리의 오른족 링크를 따라 계속 이동하여 오른쪽 링크 필드가 NULL인 노드 즉, 가장 오른쪽 노드가 후계자가 됨
        2. 오른족 서브트리에서 가장 작은 자손 노드 선택
            1. 오른족 서브트리에서 왼쪽 링크를 따라 계속 이동하여 왼쪽 링크 필드가 NULL인 노드 즉, 가장 왼쪽에 있는 노드가 후계자가 됨

### 히프

- 완전 이진 트리에 있는 노드 중에서 키값이 가장 큰 노드나 키값이 가장 작은 노드를 찾기 위해서 만든 자료구조
- 최대 히프
    - 키 값이 가장 큰 노드를 찾기 위한 완전 이진 트리
    - 부토 노드의 키 값 ≥ 자식 노드의 키 값
    - 루트 노드 : 키 값이 가장 큰 노드
- 최소 히프
    - 키 값이 가장 작은 노드를 찾기 위한 완전 이진 트리
    - 부모 노드의 키 값 ≤ 자식 노드의 키 값
    - 루트 노드
        - 키 값이 가장 작은 노드

### 히프의 삽입 연산

1. 완전 이진 트리의 조건이 만족하도록 다음 자리를 확장
    1. 노드가 n개인 완전 이진 트리에서 다음 노드의 확장 자리는 n+1번의 노드
    2. n+1번 자리에 노드를 확장하고, 그 자리에 삽입할 원소를 임시 저장
2. 부모 노드와 크기 조건이 만조하도록 삽입 원소의 자리를 찾음
    1. 현재 위치에서 부모 노드와 비교하여 크기 관계를 확인
    2. 현재 부모 노드의 키 값 ≥ 삽입 원소의 키값의 관계가 성립하지 않으면, 현재 부모노드의 원소와 삽입 원소의 자리를 바꿈

### 히프의 삭제 연산

- 히프에서는 루트 노드의 원소만을 삭제할 수 있음
1. 루트 노드의 원소를 삭제하여 반환
2. 원소의 개수가 n-1개로 줄었으므로, 노드의 수가 n-1인 완전 이진 트리로 고정
    1. 노드가 n개인 완전 이진 트리에서 노드 수 n-1개의 완전 이진 트리가 되기 위해서 마지막 노드, 즉 n번 노드를 삭제
    2. 삭제된 n번 노드에 있던 원소는 비어있는 루트 노드에 임시 저장
3. 완전 이진 트리 내애서 루트에 임시 저장된 원소의 제자리를 찾음
    1. 현재 위치에서 자식 노드와 비교하여 크기 관계를 확인
    2. 임시 저장 원소의 키 값 ≥ 현재 자식 노드의 키값의 관계가 성립하지 않으면, 현재 자식 노드의 원소와임시 저장 원소의 자리를 서로 바꿈